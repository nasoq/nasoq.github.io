<!DOCTYPE html>

<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>NASOQ</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script id="MathJax-script" async
          src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
    <meta name="description" content="">
    <meta name="author" content="Kazem Cheshmi">

    <!-- Le styles -->
    <link href="index_files/bootstrap.css" rel="stylesheet">
    <style type="text/css">
      body {
        padding-top: 40px;
        padding-bottom: 40px;
      }
    </style>

    <!-- Font Awesome icons -->
    <link href="index_files/font-awesome.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link href="index_files/prettify.css" type="text/css" rel="stylesheet">
    <script type="text/javascript" async="" src="index_files/ga.js"></script><script type="text/javascript" src="index_files/prettify.js"></script>
    <link href="index_files/prettify-sunburst.css" type="text/css" rel="stylesheet">
    <link  href="index_files/anim-typewriter.css" rel="steps">
  </head>

  <body onload="prettyPrint()" >

    <div id="dic_bubble" class="selection_bubble fontSize13 noSelect" style="z-index: 9999; border: 1px solid rgb(74, 174, 222); visibility: hidden;"></div>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner" >
        <div class="container" >
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse" >
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="index.html">NASOQ</a>
          <div class="nav-collapse" >
            <ul class="nav">
              <li><a href="index.html">Home</a></li>
              </ul>
          </div>
<!--           <div class="nav-collapse" >
            <ul class="nav">
              <li><a href="#overview">Overview</a></li>
              <li><a href="#publications">Publications</a></li>
              <li><a href="#publications">Docs</a></li>
              <li><a href="https://github.com/sympiler/nasoq">Code</a></li>
              
            </ul>
          </div> -->
        </div>
      </div>
    </div>
    <a href="https://github.com/sympiler/nasoq"><img style="position: fixed; top: 0; right: 0; border: 0; z-index: 1031;" src="index_files/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>

    <!-- Main hero unit for a primary marketing message or call to action -->
    


    <div class="hero-unit" style="background-color:#959df3;">

      <div class="container" >
        <h2 >NASOQ: Numerically Accurate Sparsity-Oriented QP Solver </h2>
        <h4>Kazem Cheshmi, University of Toronto <br> Danny M. Kaufman, Adobe Research <br> Shoaib Kamil, Adobe Research <br> Maryam Mehri Dehnavi, University of Toronto </h4>
  
      </div>
 
    </div>

<div class="container" data-spy="scroll" data-target=".nav-collapse" data-offset="15">
      <section id="overview">
        <p  align="center"><img src="index_files/banner.png" alt="NASOQ" width="100%" height=auto></p>
        <p> The sparsity-oriented row modification (SoMoD) algorithm in NASOQ leverages the sparsity pattern of the objective and the constraint matrices in the QP problem to build an inclusive matrix that enables efficient sparse row modification. Figure (a) shows the sparsity pattern of the objective matrix <i>H</i> and constraints matrices <i>A</i> and <i>C </i> in QP problem with general form of \({1 \over 2} x^THx + q^Tx \; s.t \; Ax=b, \, Cx \le d  \) where <i>b,d</i> and <i>q </i> are vectors. Figure (b) shows the inclusive matrix created from matrices in Figure (a). The inclusive matrix is then permuted with a fill-reducing permutation to compute the sparsity pattern of the L-factor with minimum number of fill-ins. The sparsity pattern of the inclusive matrix’s L-factor in Figure (b) is computed and shown in Figure (c). Boundaries of supernodes are shown with dotted lines and the supernode numbers are shown below the L-factor. The corresponding inclusive (assembly) tree of the L-factor in Figure (c) is shown in Figure (d). The inclusive assembly tree along with the L-factor are used to efficiently modify successive KKT systems while solving the QP problem. 
</p>
      </section>

    <div class="container" data-spy="scroll" data-target=".nav-collapse" data-offset="15">
      <section id="paper">
<!--         <div class="page-header">
          <h1>Paper</h1>
        </div> -->
        <a href="index_files/nasoq_siggraph20.pdf" target="_blank"><strong>Paper (PDF)</strong></a>
      </section>
    </div>



    <div class="container" data-spy="scroll" data-target=".nav-collapse" data-offset="15">
      <section id="abstract">
        <div class="page-header">
          <h1>Abstract</h1>
        </div>
        
        <p align="justify">Quadratic programs (QP), minimizations of quadratic objectives subject to linear inequality and equality constraints, are at the heart of algorithms across scientific domains. Applications include fundamental tasks in geometry processing, simulation, engineering, animation and finance where the accurate, reliable, efficient, and scalable solution of QP problems is critical. However, available QP algorithms generally provide either accuracy or scalability – but not both. Some algorithms reliably solve QP problems to high accuracy but work only for smaller-scale QP problems due to their reliance on dense matrix methods. Alternately, many other QP solvers scale well via sparse, efficient algorithms but cannot reliably deliver solutions at requested accuracies. Towards addressing the need for accurate and efficient QP solvers at scale, we develop NASOQ, a new, full-space QP algorithm that provides accurate, efficient, and scalable solutions for QP problems. To enable NASOQ we construct a new row modification method and fast implementation of LDL factorization for indefinite systems. Together they enable efficient updates and accurate solutions of the iteratively modified KKT systems required for accurate QP solves. While QP methods have been previously tested on large synthetic benchmarks, to test and compare NASOQ’s suitability for real-world applications we collect here a new benchmark set comprising a wide range of graphics-related QPs across physical simulation, animation, and geometry processing tasks. We combine these problems with numerous pre-existing stress-test QP benchmarks to form, to our knowledge, the largest-scale test set of application-based QP problems currently available. Building off of our base NASOQ solver we then develop and test two NASOQ variants against best, state-of-the-art available QP libraries – both commercial and open-source. Our two NASOQ-based methods each solve respectively 98.8% and 99.5% of problems across a range of requested accuracies from 10−3 to 10−9 with average speedups ranging from 1.7× to 24.8× over fastest competing methods. </p>

<!--         <figure class="half" style="display:flex"  >
            <img class="image-size" src="index_files/failure_All-1.png">
            <img style="width:50%" src="index_files/perf_profile_e6.png">
        </figure> -->



<!--          <div class="row">
  <div class="column">
    <img src="index_files/perf_profile_e6.png" alt="Snow" style="width:50%">
  </div>
  <div class="column">
    <img src="index_files/perf_profile_e6.png" alt="Forest" style="width:50%">
  </div>
</div>  -->

        <!-- <p  align="center"><img class="animated-gif" src="index_files/perf_profile_e6.png" alt="NASOQ" width="400" height=auto></p> -->
        

        <!-- TODO big idea: separate schedule -->

      </section>

<!--       <section id="gettingstarted">
        <div class="page-header">
          <h1>Getting Started</h1>
        </div>

        <p> Sympiler can be built from source code. Please look at the <a href="https://github.com/sympiler/sympiler/blob/master/README.md"> README </a> file in the Sympiler repository for configuration instructions. The details of the Sympiler internals are explained in the SC17 <a href="https://dl.acm.org/citation.cfm?id=3126936&CFID=825768759&CFTOKEN=28284703">paper </a> and <a href="index_files/Sympiler_SC17_TALK.pdf"> presentation</a>. </p> -->

       

        <!-- TODO explain main data types, usage -->
        <!-- TODO explain, show JIT vs. static compilation -->

<!--        <h2>Course Notes</h2>

        <p>We taught a <a href="http://halide-lang.org/cvpr2015.html">course on Halide</a> at CVPR 2015. The course notes are a useful introduction to Halide.</p>

        <p>Frédo Durand also taught an introduction to Halide in his <a href="https://stellar.mit.edu/S/course/6/sp15/6.815/index.html">6.815/6.865</a> computational photography course at MIT.</p>

        <ul>
            <li><a href="http://stellar.mit.edu/S/course/6/sp15/6.815/courseMaterial/topics/topic2/lectureNotes/14_Halide_print/14_Halide_print.pdf">Lecture 1</a></li>
            <li><a href="http://stellar.mit.edu/S/course/6/sp15/6.815/courseMaterial/topics/topic2/lectureNotes/15_Halide2/15_Halide2.pdf">Lecture 2</a></li>
            <li><a href="http://stellar.mit.edu/S/course/6/sp15/6.815/courseMaterial/topics/topic2/lectureNotes/16_Halide_3/16_Halide_3.pdf">Lecture 3</a></li>
            <li><a href="http://stellar.mit.edu/S/course/6/sp15/6.815/courseMaterial/topics/topic2/lectureNotes/17_Halide4/17_Halide4.pdf">Lecture 4</a></li>
        </ul>
       
-->

      <section id="Video">
        <div class="page-header">
          <h1>Video</h1>
        </div>
<h3>SIGGRAPH2020 Talk</h3>
<p  align="center"> 

<iframe width="560" height="315" src="https://www.youtube.com/embed/8D5ACA8w7vM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
  </p>

    </section>


      <section id="Resources">
        <div class="page-header">
          <h1>Resources</h1>
        </div>

<!--         <p>
          These academic publications explain how the symbolic information in sparse methods can guide the code generation phase in Sympiler.  
        </p> -->

<!--         <h3> Presentation</h3>
        <p>
           
        </p> -->
        <p>
           <a href="index_files/nasoq_sup.pdf" target="_blank"><strong>Supplemental Materials:</strong></a>  include the setup for libraries and also the speedup breakdown per class of application. 
        </p>

    </section>

    <section id="Code">
        <div class="page-header">
          <h1>Source code and data</h1>
        </div>
        <p>  <a href="https://github.com/sympiler/nasoq" target="_blank"><strong>NASOQ source code</strong></a> </p>

        <p>  <a href="https://github.com/sympiler/nasoq-benchmarks" target="_blank"><strong>NASOQ Benchmark code</strong></a> </p>

        <p>  <a href="https://www.dropbox.com/s/hxhelt273ajh00w/SMP_Repository_SIGGRAPH20.tgz?dl=0" target="_blank"><strong>QP Dataset</strong></a> </p>


    </section>


    <section id="bibtex">
        <div class="page-header">
          <h1>Bibtex</h1>
        </div>
@article{Cheshmi2020NASOQ,
    author = {Cheshmi, Kazem and Kaufman, Danny M. and Kamil, Shoaib and Dehnavi, Maryam Mehri},
    title = {NASOQ: Numerically Accurate Sparsity-Oriented QP Solver},
    journal = {ACM Transactions on Graphics},
    year = {2020},
    volume = {39},
    number = {4}
} 
      </section>

<!--     <section id="Results">
        <div class="page-header">
          <h1>Results</h1>
        </div>

        <img style="width:50%" src="index_files/failure_All-1.png" align="left" />
<img style="width:50%" src="index_files/perf_profile_e6.png" />
    </section> -->

<!--         <p>
          <strong>ParSy: Inspection and Transformation of Sparse Matrix Computations for Parallelism</strong>
          <br>
          <a href="http://www.cheshmi.cc/">Kazem Cheshmi</a>,
          <a href="http://people.csail.mit.edu/skamil/">Shoaib Kamil</a>,
          <a href="http://cgi.cs.arizona.edu/~mstrout/">Michelle Mills Strout</a>,
          <a href="https://www.cs.toronto.edu/~mmehride/">Maryam Mehri Dehnavi</a>
          <br>
          <em>In Proceedings of the International Conference for High Performance Computing, Networking, Storage, and Analysis (SC '18). IEEE Press, Piscataway, NJ, USA, Article 62, 15 pages. <a href="http://dl.acm.org/citation.cfm?id=3291656.3291739">ACM DL</a>.
            <a href="index_files/parsy.bib" target="_blank"> <u>BibTex</u></a> <a href="index_files/parsy.enw" target="_blank"> <u>EndNote</u></a>  <a href="index_files/parsy-ref.txt" target="_blank"><u> ACM Ref</u></a>. 
            <a href="index_files/SC18-final.pdf"> <img border="0" alt="ParSy Talk" src="index_files/present_icon.svg" width="20" height="20">  </a> 
           <a href="https://www.cs.toronto.edu/~mmehride/papers/Parsy.pdf"> <img border="0" alt="ParSy SC" src="index_files/pdf_icon.png" width="25" height="15">  </a>  </em> 
        </p> -->


<!--        
      
-->


    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="index_files/jquery.html"></script>
    <script src="index_files/bootstrap-transition.html"></script>
    <script src="index_files/bootstrap-alert.html"></script>
    <script src="index_files/bootstrap-modal.html"></script>
    <script src="index_files/bootstrap-dropdown.html"></script>
    <script src="index_files/bootstrap-scrollspy.html"></script>
    <script src="index_files/bootstrap-tab.html"></script>
    <script src="index_files/bootstrap-tooltip.html"></script>
    <script src="index_files/bootstrap-popover.html"></script>
    <script src="index_files/bootstrap-button.html"></script>
    <script src="index_files/bootstrap-collapse.html"></script>
    <script src="index_files/bootstrap-carousel.html"></script>
    <script src="index_files/bootstrap-typeahead.html"></script>

    <!-- Google Analytics -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-42245837-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-42245837-3');
</script>



<style type="text/css" data-typed-js-css="true"> 
.typewriter h1 {
  font-family: courier; /* Web-safe typewriter-like font */
  font-size: 1.4em;
  font-weight: normal;
  display: inline-flex;
  overflow: hidden; /* Ensures the content is not revealed until the animation */
  border-right: .15em solid black; /* The typwriter cursor */
  white-space: nowrap; /* Keeps the content on a single line */
  margin: 0 auto; /* Gives that scrolling effect as the typing happens */
  letter-spacing: .06em; /* Adjust as needed */
  animation: 
    typing 3.5s steps(40, end),
    blinking-cursor .5s step-end
}

/* The typing effect */
@keyframes typing {
  from { width: 0 }
  to { width: 100% }
}

/* The typewriter cursor effect */
@keyframes blinking-cursor {
  from, to { border-color: transparent }
  50% { border-color: black; }
}
</style>
</body></html>